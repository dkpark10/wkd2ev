(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[627],{1791:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(9244),l=r(5683),o=r(9056),i=r(4388);function s(e){let{subTitle:t}=e,r=(0,o.useRef)(null),s=(0,o.useRef)(null),{subTitleList:u,setSubTitleList:c}=(0,i.O)(),[d,a]=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{threshold:t=1,root:r=null,rootMargin:n="0px"}=e,[l,i]=o.useState(null),s=o.useRef(null);return[o.useCallback(e=>{if(s.current&&(s.current.disconnect(),s.current=null),(null==e?void 0:e.nodeType)===Node.ELEMENT_NODE){let l=new IntersectionObserver(e=>{let[t]=e;i(t)},{threshold:t,root:r,rootMargin:n});l.observe(e),s.current=l}},[t,r,n]),l]}({threshold:.9,root:null,rootMargin:"0px 0px -60% 0px"}),p=()=>{if(r){var e;let t=null==(e=u.find(e=>e.idx===s.current))?void 0:e.scrollTop;t&&window.scrollTo({top:t-10,behavior:"smooth"})}};return(0,o.useEffect)(()=>{(null==a?void 0:a.isIntersecting)&&c(e=>e.map(e=>({...e,current:e.idx===s.current})))},[null==a?void 0:a.isIntersecting]),(0,o.useEffect)(()=>{if(r){let e=r.current.getBoundingClientRect(),n=window.scrollY+e.top-93;c(e=>(s.current=e.length+1,[...e,{idx:s.current,textContent:t,current:1===s.current,scrollTop:n}]))}let{hash:e}=window.location;return decodeURIComponent(e).slice(1)===(0,l.P)(t)&&p(),()=>{c([])}},[t,JSON.stringify(u.map(e=>e.textContent).join(""))]),(0,n.jsxs)("h2",{className:"sub_title",ref:d,children:[t,(0,n.jsx)("a",{ref:r,onClick:e=>{e.preventDefault(),window.history.pushState(null,"","#".concat((0,l.P)(t))),p()},className:"permalink",children:"#"})]})}},3013:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,4393,23)),Promise.resolve().then(r.bind(r,1791)),Promise.resolve().then(r.t.bind(r,3042,23))},3042:()=>{},4388:(e,t,r)=>{"use strict";r.d(t,{O:()=>s,SubTitleProvider:()=>i});var n=r(9244),l=r(9056);let o=(0,l.createContext)({subTitleList:[],setSubTitleList:null}),i=e=>{let{children:t}=e,[r,i]=(0,l.useState)([]);return(0,n.jsx)(o.Provider,{value:{subTitleList:r,setSubTitleList:i},children:t})},s=()=>{let e=(0,l.useContext)(o);if(!e)throw Error("useRefContext must be used within RefProvider");return e}},5683:(e,t,r)=>{"use strict";r.d(t,{P:()=>n});let n=e=>decodeURIComponent(e).trim().toLowerCase().replace(/\.+/g,"-").replace(/…/g,"-").replace(/[\(\)\[\]\{\}]/g," ").replace(/[\s,;:!]+/g,"-").replace(/[^a-zA-Z0-9가-힣-]/g,"").replace(/-+/g,"-").replace(/^-|-$|^-$/g,"")}},e=>{e.O(0,[661,393,530,410,358],()=>e(e.s=3013)),_N_E=e.O()}]);